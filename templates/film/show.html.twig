{% extends 'base.html.twig' %}

{% block title %}Un Film{% endblock %}

{% block body %}
    <style>
        .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
        .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    </style>

    <div class="example-wrapper">
        <h1>Voici le film séléctionné</h1>


        <hr>
            <p>Utilisateur : {{ film.user.username }}</p>
            <p>Nom : {{ film.nom }}</p>
            <p>Résumé : {{ film.resume }}</p>
            <p>Réalisateur : {{ film.realisateur }}</p>
            <p>Année de sortie : {{ film.annee|date('Y') }}</p>
            <a href="{{ path('addlike', {id:film.id}) }}">Likes : {{ film.likes|length }}</a>
        <br>
        {% if app.user == film.user %}
            <a class="btn btn-danger" href="{{ path('deletefilm', {id:film.id}) }}">Supprimer</a>
            <a class="btn btn-warning" href="{{ path('modifyfilm', {id:film.id}) }}">Modifier</a>
        {% endif %}
            <a class="btn btn-primary" href="{{ path('film') }}">Retour</a>
        {% for impression in film.impressions %}
            <p>Ecrit le : {{ impression.date|date('d-m-Y') }}</p>
            <p>Par : {{ impression.user.username }}</p>
            <p>{{ impression.contenu }}</p>
            {% if app.user == impression.user %}
            <a class="btn btn-outline-danger" href="{{ path('deleteimp', {id:impression.id}) }}">Supprimer</a>
            <a class="btn btn-outline-warning" href="{{ path('modifyimp', {id:impression.id}) }}">Modifier</a>
            {% endif %}
            <hr>

        {% endfor %}
        {{ form_start(formimp, {'action':path('newimpression', {id:film.id})}) }}

        <button class="btn btn-outline-success" type="submit">Créer un commentaire</button>
        {{ form_end(formimp) }}
        <hr>



    </div>
{% endblock %}
